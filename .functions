git_dirty(){
	# stealed from https://github.com/sindresorhus/pure/blob/master/pure.zsh
	command git rev-parse --is-inside-work-tree &>/dev/null || return
	command git diff --quiet --ignore-submodules HEAD &>/dev/null
	(($? == 1)) && echo '*'
}
git_ps1(){
	# I don't like the standard __git_ps1 putput, this is cleaner
	local b="$(git symbolic-ref HEAD 2>/dev/null)";
	[[ -n "$b" ]] && printf " %s" "${b##refs/heads/}";
}
